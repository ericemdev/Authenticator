import{S as fe,i as ge,s as pe,e as d,a as l,b as L,l as C,n as X,d as O,o as ye,g as he,c as y,f as ae,h as ie,t as oe,j as ke,k as o,m as ce,p as re,q as Y,r as Ne,u as ee,v as He,w as de,x as te,y as ze,z as Be,A as Ze,B as xe,C as Fe,D as be,H as Ge,E as U,F as _e,G as we}from"./vendor.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function Ue(r){let t,e,n;return{c(){t=d("button"),t.textContent="Google Sync",l(t,"class","w-full text-left text-lg")},m(i,a){L(i,t,a),e||(n=C(t,"click",r[0]),e=!0)},p:X,i:X,o:X,d(i){i&&O(t),e=!1,n()}}}function Ve(r){let t=!1;function e(){if(!t){n().then(()=>{console.log("Client initialized, syncing OTPs..."),e()});return}const i=he.auth2.getAuthInstance().currentUser.get();if(!i.isSignedIn()){he.auth2.getAuthInstance().signIn().then(()=>{console.log("User signed in. Syncing OTPs..."),e()});return}const a=i.getAuthResponse();console.log("User signed in:",a);const u=JSON.parse(localStorage.getItem("otps")||"[]"),c={name:"OTPs.json",mimeType:"application/json"},f={mimeType:"application/json",body:JSON.stringify(u)};try{he.client.drive.files.create({resource:c,media:f,fields:"id"}).then(s=>{console.log("File created successfully:",s.result)})}catch(s){console.error("Error syncing OTPs:",s)}}async function n(){const i="50771926637-24s7b5md9vlk6kaiavd787nrt17d68v8.apps.googleusercontent.com",a="AIzaSyA6vFvIeIfUR75v0AjAT9ap82_RljcZ0LA",u=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],c="https://www.googleapis.com/auth/drive.file";await he.load("client:auth2"),await he.client.init({apiKey:a,clientId:i,discoveryDocs:u,scope:c}),t=!0}return ye(()=>{const i=document.createElement("script");i.src="https://apis.google.com/js/platform.js",i.async=!0,i.defer=!0,i.onload=n,document.head.appendChild(i)}),[e]}class Re extends fe{constructor(t){super(),ge(this,t,Ve,Ue,pe,{})}}function Ce(r){let t,e;return{c(){t=d("div"),e=oe(r[2]),l(t,"class","fixed top-4 right-4 bg-blue-600 text-white px-4 py-2 rounded shadow-lg")},m(n,i){L(n,t,i),o(t,e)},p(n,i){i&4&&re(e,n[2])},d(n){n&&O(t)}}}function Se(r){let t,e,n,i,a,u,c,f,s,p,g,w,m,h,x,_,v,k,I,N,M,E,S=r[0]?"Light Mode":"Dark Mode",b,D,Z,J,K;return f=new Re({}),{c(){t=d("div"),e=d("div"),n=d("button"),n.textContent="\xD7",i=y(),a=d("ul"),u=d("li"),c=d("button"),ae(f.$$.fragment),s=y(),p=d("li"),g=d("button"),g.textContent="Import",w=y(),m=d("li"),h=d("button"),h.textContent="Export",x=y(),_=d("li"),v=d("label"),k=d("input"),I=y(),N=d("div"),N.innerHTML='<div class="dot peer-checked:translate-x-4"></div>',M=y(),E=d("span"),b=oe(S),l(n,"class","text-gray-500 dark:text-gray-400 self-end text-2xl"),l(n,"aria-label","Close Menu"),l(c,"class","w-full flex items-center space-x-2"),l(c,"aria-label","Sync with Google"),l(u,"class","flex items-center space-x-2 p-2 rounded-md border-b dark:border-black"),l(g,"class","w-full text-left"),l(g,"aria-label","Import Data"),l(p,"class","flex items-center space-x-2 p-2 rounded-md border-b dark:border-[#121212]"),l(h,"class","w-full text-left"),l(h,"aria-label","Export Data"),l(m,"class","flex items-center space-x-2 p-2 rounded-md border-b dark:border-[#121212]"),l(k,"type","checkbox"),k.checked=r[0],l(k,"class","sr-only peer"),l(N,"class","toggle-bg peer-checked:bg-tertiary"),l(E,"class","ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"),l(v,"class","relative inline-flex items-center cursor-pointer"),l(_,"class","flex items-center space-x-2 rounded-md border-b dark:border-[#121212]"),l(a,"class","space-y-4 mt-4"),l(e,"class",D=(r[0]?"bg-gray-900 text-white":"bg-primary text-gray-800")+" w-3/4 p-4 rounded-lg shadow-lg"),l(t,"class","fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center lg:hidden")},m(H,R){L(H,t,R),o(t,e),o(e,n),o(e,i),o(e,a),o(a,u),o(u,c),ce(f,c,null),o(a,s),o(a,p),o(p,g),o(a,w),o(a,m),o(m,h),o(a,x),o(a,_),o(_,v),o(v,k),o(v,I),o(v,N),o(v,M),o(v,E),o(E,b),Z=!0,J||(K=[C(n,"click",r[7]),C(c,"click",r[4]),C(g,"click",r[5]),C(h,"click",r[6]),C(k,"change",r[3])],J=!0)},p(H,R){(!Z||R&1)&&(k.checked=H[0]),(!Z||R&1)&&S!==(S=H[0]?"Light Mode":"Dark Mode")&&re(b,S),(!Z||R&1&&D!==(D=(H[0]?"bg-gray-900 text-white":"bg-primary text-gray-800")+" w-3/4 p-4 rounded-lg shadow-lg"))&&l(e,"class",D)},i(H){Z||(Y(f.$$.fragment,H),Z=!0)},o(H){ee(f.$$.fragment,H),Z=!1},d(H){H&&O(t),de(f),J=!1,te(K)}}}function qe(r){let t,e,n,i,a,u,c,f,s,p,g,w,m,h,x,_,v,k,I,N,M,E,S,b,D,Z,J=r[0]?"Light Mode":"Dark Mode",K,H,R,le,Q,A,T,j,z,V,W,$,ne,q,se,me;f=new Re({});let F=r[2]&&Ce(r),B=r[1]&&Se(r);return{c(){t=d("aside"),e=d("div"),n=d("div"),n.textContent="AUTHENTICATOR",i=y(),a=d("ul"),u=d("li"),c=d("button"),ae(f.$$.fragment),s=y(),p=ie("svg"),g=ie("path"),w=ie("path"),m=y(),h=d("li"),x=d("button"),x.textContent="Import",_=y(),v=d("li"),k=d("button"),k.textContent="Export",I=y(),N=d("div"),M=d("label"),E=d("input"),S=y(),b=d("div"),b.innerHTML='<div class="dot"></div>',D=y(),Z=d("span"),K=oe(J),R=y(),F&&F.c(),le=y(),Q=d("header"),A=d("h1"),A.textContent="Authenticator",T=y(),j=d("button"),z=oe("\u2630"),$=y(),B&&B.c(),ne=ke(),l(n,"class","text-[#008000] space-x-2 dark:text-primary text-lg font-bold mb-8"),l(g,"fill","none"),l(g,"d","M0 0h24v24H0V0z"),l(w,"d","M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z"),l(w,"fill","#34a853"),l(w,"class","color000000 svgShape"),l(p,"xmlns","http://www.w3.org/2000/svg"),l(p,"viewBox","0 0 24 24"),l(p,"id","Backup"),l(p,"width","40"),l(p,"height","40"),l(c,"class","w-full flex items-center space-x-2"),l(c,"aria-label","Sync with Google"),l(u,"class","flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-yellow-100 border-b cursor-pointer dark:border-[#121212]"),l(x,"class","w-full text-left text-lg"),l(x,"aria-label","Import Data"),l(h,"class","flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 border-b dark:border-[#121212]"),l(k,"class","w-full text-left text-lg"),l(k,"aria-label","Export Data"),l(v,"class","flex items-center space-x-2 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 border-b dark:border-[#121212]"),l(a,"class","space-y-4 mt-4"),l(E,"type","checkbox"),E.checked=r[0],l(E,"class","sr-only"),l(b,"class","toggle-bg"),l(Z,"class","ml-3 font-medium text-lg text-gray-900 dark:text-gray-300"),l(M,"class","relative inline-flex items-center cursor-pointer"),l(N,"class","flex justify-start items-center pt-4 pl-6 border-t border-gray-300 dark:border-[#121212]"),l(t,"class",H=(r[0]?"dark:bg-[#15202b] text-secondary":"bg-primary text-gray-800")+" hidden lg:flex flex-col justify-between w-1/5 min-h-screen shadow-lg p-4"),l(A,"class","text-xl font-semibold uppercase text-tertiary dark:text-primary"),l(j,"class",V="text-2xl "+(r[0]?"text-white":"text-[#0d0c22]")),l(j,"aria-label","Toggle Navigation"),l(Q,"class",W=(r[0]?"bg-primaryDark text-white":"bg-primary text-[#0d0c22]")+" lg:hidden w-full flex items-center justify-between p-4 shadow")},m(P,G){L(P,t,G),o(t,e),o(e,n),o(e,i),o(e,a),o(a,u),o(u,c),ce(f,c,null),o(c,s),o(c,p),o(p,g),o(p,w),o(a,m),o(a,h),o(h,x),o(a,_),o(a,v),o(v,k),o(t,I),o(t,N),o(N,M),o(M,E),o(M,S),o(M,b),o(M,D),o(M,Z),o(Z,K),L(P,R,G),F&&F.m(P,G),L(P,le,G),L(P,Q,G),o(Q,A),o(Q,T),o(Q,j),o(j,z),L(P,$,G),B&&B.m(P,G),L(P,ne,G),q=!0,se||(me=[C(c,"click",r[4]),C(x,"click",r[5]),C(k,"click",r[6]),C(E,"change",r[3]),C(j,"click",r[7])],se=!0)},p(P,[G]){(!q||G&1)&&(E.checked=P[0]),(!q||G&1)&&J!==(J=P[0]?"Light Mode":"Dark Mode")&&re(K,J),(!q||G&1&&H!==(H=(P[0]?"dark:bg-[#15202b] text-secondary":"bg-primary text-gray-800")+" hidden lg:flex flex-col justify-between w-1/5 min-h-screen shadow-lg p-4"))&&l(t,"class",H),P[2]?F?F.p(P,G):(F=Ce(P),F.c(),F.m(le.parentNode,le)):F&&(F.d(1),F=null),(!q||G&1&&V!==(V="text-2xl "+(P[0]?"text-white":"text-[#0d0c22]")))&&l(j,"class",V),(!q||G&1&&W!==(W=(P[0]?"bg-primaryDark text-white":"bg-primary text-[#0d0c22]")+" lg:hidden w-full flex items-center justify-between p-4 shadow"))&&l(Q,"class",W),P[1]?B?(B.p(P,G),G&2&&Y(B,1)):(B=Se(P),B.c(),Y(B,1),B.m(ne.parentNode,ne)):B&&(Ne(),ee(B,1,1,()=>{B=null}),He())},i(P){q||(Y(f.$$.fragment,P),Y(B),q=!0)},o(P){ee(f.$$.fragment,P),ee(B),q=!1},d(P){P&&O(t),de(f),P&&O(R),F&&F.d(P),P&&O(le),P&&O(Q),P&&O($),B&&B.d(P),P&&O(ne),se=!1,te(me)}}}function Je(r,t,e){let{onToggleExportPopup:n}=t,{onToggleImportPopup:i}=t,{darkMode:a=!1}=t,u=!1,c="";const f=()=>{e(0,a=!a),document.documentElement.classList.toggle("dark",a),e(1,u=!1),e(2,c=a?"Switched to Dark Mode":"Switched to Light Mode"),setTimeout(()=>e(2,c=""),3e3)};async function s(){try{e(2,c="Google Sync Successful")}catch{e(2,c="Google Sync Failed")}setTimeout(()=>e(2,c=""),3e3)}function p(){i&&i(),e(1,u=!1)}function g(){n&&n(),e(1,u=!1)}const w=()=>{e(1,u=!u)};return r.$$set=m=>{"onToggleExportPopup"in m&&e(8,n=m.onToggleExportPopup),"onToggleImportPopup"in m&&e(9,i=m.onToggleImportPopup),"darkMode"in m&&e(0,a=m.darkMode)},[a,u,c,f,s,p,g,w,n,i]}class Qe extends fe{constructor(t){super(),ge(this,t,Je,qe,pe,{onToggleExportPopup:8,onToggleImportPopup:9,darkMode:0})}}const Ye=r=>r.toString(16),ve=r=>parseInt(r,16),Ke="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",Xe=r=>r.split("").map(e=>{let n=Ke.indexOf(e.toUpperCase());if(n<0)throw new Error("Illegal Base32 character: "+e);return n}).map(e=>e.toString(2).padStart(5,"0")).join("").match(/.{4}/g).map(e=>parseInt(e,2).toString(16)).join("");function ue(r,t){this.secretBase32=r,this.stepSeconds=Number.isInteger(Number(t))&&Number(t)>0?Number(t):30,this.tokenLength=6,this.getToken=()=>{if(r.length<16)throw new Error("Secret minimum length is 16, but was only"+r.length);let e=Xe(this.secretBase32);e.length%2!==0&&(e+="0");let n=Math.floor(Date.now()/1e3/this.stepSeconds),i=Ye(n),a=new ze("SHA-1","HEX",{hmacKey:{value:e,format:"HEX"}});a.update(i.padStart(16,"0"));let u=a.getHMAC("HEX"),c=ve(u.slice(-1));return String(ve(u.substr(c*2,8))&ve("7fffffff")).slice(-this.tokenLength)},this.getRemainingSeconds=()=>this.stepSeconds-Date.now()/1e3%this.stepSeconds,this.getStepSeconds=()=>this.stepSeconds}function Te(r,t,e){const n=r.slice();return n[21]=t[e],n[23]=e,n}function Ie(r){let t,e,n,i,a,u,c;return{c(){t=d("div"),e=d("input"),i=y(),a=d("label"),a.textContent="Select All",l(e,"type","checkbox"),e.checked=n=r[4].size===r[0].length,l(e,"class","mr-2"),l(a,"for","select-all"),l(t,"class","flex items-center mb-4")},m(f,s){L(f,t,s),o(t,e),o(t,i),o(t,a),u||(c=C(e,"change",r[6]),u=!0)},p(f,s){s&1&&n!==(n=f[4].size===f[0].length)&&(e.checked=n)},d(f){f&&O(t),u=!1,c()}}}function We(r){let t,e,n;return{c(){t=ie("svg"),e=ie("path"),n=ie("path"),l(e,"fill-rule","evenodd"),l(e,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),l(e,"clip-rule","evenodd"),l(n,"fill-rule","evenodd"),l(n,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),l(n,"clip-rule","evenodd"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"viewBox","0 0 16 16"),l(t,"fill","currentColor"),l(t,"class","size-4")},m(i,a){L(i,t,a),o(t,e),o(t,n)},d(i){i&&O(t)}}}function $e(r){let t;return{c(){t=d("span"),t.textContent="Copied!",l(t,"class","text-xs text-gray-500")},m(e,n){L(e,t,n)},d(e){e&&O(t)}}}function Ae(r,t){let e,n,i=t[21].remainingTime+"",a,u,c,f,s,p,g,w,m,h=t[21].issuer+"",x,_,v,k,I=t[21].code+"",N,M,E,S,b,D,Z;function J(){return t[13](t[21])}function K(T,j){return T[1]===T[21].id?$e:We}let H=K(t),R=H(t);function le(){return t[14](t[21])}function Q(){return t[15](t[21])}function A(){return t[16](t[21])}return{key:r,first:null,c(){e=d("div"),n=d("div"),a=oe(i),u=oe("s"),c=y(),f=d("div"),s=d("div"),p=d("input"),w=y(),m=d("p"),x=oe(h),_=y(),v=d("div"),k=d("p"),N=oe(I),M=y(),E=d("button"),R.c(),S=y(),l(n,"class","absolute top-2 right-2 text-sm text-gray-500 font-medium"),l(p,"type","checkbox"),p.checked=g=t[4].has(t[21].id),l(p,"class","h-3 w-3 rounded-full border-2 border-tertiary checked:bg-tertiary checked:border-tertiary mr-2"),l(m,"class","font-semibold text-xl truncate dark:text-primary"),l(s,"class","flex items-center"),l(k,"class","text-tertiary text-2xl pl-5 font-bold"),l(E,"class","ml-2"),l(v,"class","flex items-center justify-between"),l(f,"class","flex flex-col space-y-1"),l(e,"class",b=`relative p-4 rounded-xl flex flex-col justify-between space-y-2
                ${t[4].has(t[21].id)?"bg-blue-100 dark:bg-gray-800":"bg-gray-100 dark:bg-[#2A3B47] dark:shadow-md dark:text-primary"}`),this.first=e},m(T,j){L(T,e,j),o(e,n),o(n,a),o(n,u),o(e,c),o(e,f),o(f,s),o(s,p),o(s,w),o(s,m),o(m,x),o(f,_),o(f,v),o(v,k),o(k,N),o(v,M),o(v,E),R.m(E,null),o(e,S),D||(Z=[C(p,"change",J),C(E,"click",le),C(e,"mousedown",Q),C(e,"mouseup",t[8]),C(e,"touchstart",A,{passive:!0}),C(e,"touchend",t[8],{passive:!0})],D=!0)},p(T,j){t=T,j&8&&i!==(i=t[21].remainingTime+"")&&re(a,i),j&8&&g!==(g=t[4].has(t[21].id))&&(p.checked=g),j&8&&h!==(h=t[21].issuer+"")&&re(x,h),j&8&&I!==(I=t[21].code+"")&&re(N,I),H!==(H=K(t))&&(R.d(1),R=H(t),R&&(R.c(),R.m(E,null))),j&8&&b!==(b=`relative p-4 rounded-xl flex flex-col justify-between space-y-2
                ${t[4].has(t[21].id)?"bg-blue-100 dark:bg-gray-800":"bg-gray-100 dark:bg-[#2A3B47] dark:shadow-md dark:text-primary"}`)&&l(e,"class",b)},d(T){T&&O(e),R.d(),D=!1,te(Z)}}}function et(r){let t,e,n,i=[],a=new Map,u=r[2]&&Ie(r),c=r[3];const f=s=>s[21].id||`code-${s[23]}`;for(let s=0;s<c.length;s+=1){let p=Te(r,c,s),g=f(p);a.set(g,i[s]=Ae(g,p))}return{c(){t=d("div"),u&&u.c(),e=y(),n=d("div");for(let s=0;s<i.length;s+=1)i[s].c();l(n,"class","md:container grid grid-cols-1 md:grid-cols-3 gap-8"),l(t,"class","md:p-4")},m(s,p){L(s,t,p),u&&u.m(t,null),o(t,e),o(t,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(n,null)},p(s,[p]){s[2]?u?u.p(s,p):(u=Ie(s),u.c(),u.m(t,e)):u&&(u.d(1),u=null),p&954&&(c=s[3],i=Be(i,p,f,1,s,c,a,n,Fe,Ae,null,Te))},i:X,o:X,d(s){s&&O(t),u&&u.d();for(let p=0;p<i.length;p+=1)i[p].d()}}}function tt(r,t,e){let n;const i=Ze();let{codes:a=[]}=t,{onToggleSelection:u}=t,{onDelete:c}=t,{onCopy:f}=t,s=null,p=null,g,w=!1,m=new Set;const h=()=>{e(0,a=a.map(b=>{const D=new ue(b.secret);return{...b,code:D.getToken(),remainingTime:Math.floor(D.getRemainingSeconds())}}))},x=b=>{m.has(b)?m.delete(b):m.add(b),e(2,w=m.size>0),u(b),i("selectionChanged",{selectedCodes:Array.from(m)})},_=()=>{m.size===a.length?m.clear():a.forEach(b=>m.add(b.id)),e(2,w=m.size>0),i("selectionChanged",{selectedCodes:Array.from(m)})},v=b=>{s=setTimeout(()=>{m.add(b),e(2,w=!0)},800)},k=()=>{clearTimeout(s)},I=(b,D)=>{e(1,p=b),f(D),setTimeout(()=>e(1,p=null),1500)};ye(()=>{h(),g=setInterval(h,1e3)}),xe(()=>{clearInterval(g)});const N=b=>x(b.id),M=b=>I(b.id,b.code),E=b=>v(b.id),S=b=>v(b.id);return r.$$set=b=>{"codes"in b&&e(0,a=b.codes),"onToggleSelection"in b&&e(10,u=b.onToggleSelection),"onDelete"in b&&e(11,c=b.onDelete),"onCopy"in b&&e(12,f=b.onCopy)},r.$$.update=()=>{r.$$.dirty&1&&e(3,n=[...a].sort((b,D)=>b.issuer.localeCompare(D.issuer))),r.$$.dirty&1&&e(2,w=m.size>0&&m.size<a.length)},i("selectionChanged",{selectedCodes:Array.from(m)}),[a,p,w,n,m,x,_,v,k,I,u,c,f,N,M,E,S]}class lt extends fe{constructor(t){super(),ge(this,t,tt,et,pe,{codes:0,onToggleSelection:10,onDelete:11,onCopy:12})}}function Pe(r){let t,e,n,i,a,u,c,f,s,p,g,w,m,h,x,_,v,k,I,N,M,E,S;return{c(){t=d("div"),e=d("div"),n=d("button"),n.textContent="\xD7",i=y(),a=d("h2"),a.textContent="Add New Code",u=y(),c=d("p"),c.textContent="Enter the issuer and secret to create a new OTP code.",f=y(),s=d("input"),p=y(),g=d("input"),w=y(),m=d("p"),m.textContent="or Scan QR Code",h=y(),x=d("div"),_=y(),v=d("button"),v.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="green" class="w-6 h-6"><path fill-rule="evenodd" d="M3 4.875C3 3.839 3.84 3 4.875 3h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 9.375v-4.5ZM4.875 4.5a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875.375c0-1.036.84-1.875 1.875-1.875h4.5C20.16 3 21 3.84 21 4.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5a1.875 1.875 0 0 1-1.875-1.875v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5ZM3 14.625c0-1.036.84-1.875 1.875-1.875h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5C3.84 21 3 20.16 3 19.125v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5ZM18.75 15.375c0-1.036.84-1.875 1.875-1.875h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5a1.875 1.875 0 0 1-1.875-1.875v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Z"></path></svg>
                Scan QR Code`,k=y(),I=d("button"),I.textContent="View Once",N=y(),M=d("button"),M.textContent="Save",l(n,"class","absolute top-3 right-3 text-gray-500 hover:text-gray-700 transition-transform transform hover:scale-110"),l(a,"class","text-xl font-semibold mb-3 text-gray-800 dark:text-primary text-center"),l(c,"class","text-gray-600 dark:text-primary text-sm text-center mb-6"),l(s,"type","text"),l(s,"placeholder","Issuer"),s.required=!0,l(s,"class","w-full p-3 bg-gray-100 dark:bg-[#2A3B47] border text-gray-800 rounded-lg mb-3 focus:outline-none focus:ring-2 focus:ring-green-200 transition dark:border-[#121212] dark:text-primary"),l(g,"type","text"),l(g,"placeholder","Secret"),g.required=!0,l(g,"class","w-full p-3 bg-gray-100 dark:bg-[#2A3B47] text-gray-800 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-green-200 transition dark:border-[#121212]"),l(m,"class","text-gray-600 text-sm text-center mb-6"),l(x,"id","reader"),l(v,"class","mt-4 text-white px-4 py-2"),l(I,"class","bg-primary text-gary-800 font-medium py-3 px-6 rounded-lg transition-transform transform hover:bg-secondary"),l(M,"class","mt-4 text-white bg-green-500 px-4 py-2 rounded-lg"),l(e,"class","bg-white dark:bg-[#15202b] text-gray-800 w-80 p-6 rounded-lg shadow-2xl relative"),l(t,"class","fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50")},m(b,D){L(b,t,D),o(t,e),o(e,n),o(e,i),o(e,a),o(e,u),o(e,c),o(e,f),o(e,s),U(s,r[1]),o(e,p),o(e,g),U(g,r[2]),o(e,w),o(e,m),o(e,h),o(e,x),o(e,_),o(e,v),o(e,k),o(e,I),o(e,N),o(e,M),E||(S=[C(n,"click",r[7]),C(s,"input",r[12]),C(g,"input",r[13]),C(v,"click",r[10]),C(I,"click",r[8]),C(M,"click",r[6])],E=!0)},p(b,D){D&2&&s.value!==b[1]&&U(s,b[1]),D&4&&g.value!==b[2]&&U(g,b[2])},d(b){b&&O(t),E=!1,te(S)}}}function Ee(r){let t,e,n,i,a,u,c,f,s,p,g,w;return{c(){t=d("div"),e=d("div"),n=d("button"),n.textContent="x",i=y(),a=d("h3"),a.textContent="One-Time OTP Code",u=y(),c=d("div"),f=oe(r[4]),s=y(),p=d("button"),p.textContent="\xD7",l(n,"class","absolute text-white px-4 py-2 rounded-lg transition"),l(a,"class","text-xl font-semibold mb-3 text-center"),l(c,"class","text-center text-lg"),l(p,"class","absolute top-3 right-3 text-gray-500 hover:text-gray-700 transition-transform transform hover:scale-110"),l(e,"class","bg-white dark:bg-[#15202b] text-gray-800 w-80 p-6 rounded-lg shadow-2xl"),l(t,"class","fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50")},m(m,h){L(m,t,h),o(t,e),o(e,n),o(e,i),o(e,a),o(e,u),o(e,c),o(c,f),o(e,s),o(e,p),g||(w=[C(n,"click",r[9]),C(p,"click",r[9])],g=!0)},p(m,h){h&16&&re(f,m[4])},d(m){m&&O(t),g=!1,te(w)}}}function ot(r){let t,e,n,i,a,u,c=r[3]&&Pe(r),f=r[5]&&Ee(r);return{c(){t=d("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="green" class="w-16 h-16"><path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z" clip-rule="evenodd"></path></svg>',e=y(),c&&c.c(),n=y(),f&&f.c(),i=ke(),l(t,"class","fixed right-6 rounded-full text-white p-2 z-[50]"),l(t,"aria-label","Toggle Button"),be(t,"bottom-6",!r[0]),be(t,"bottom-20",r[0])},m(s,p){L(s,t,p),L(s,e,p),c&&c.m(s,p),L(s,n,p),f&&f.m(s,p),L(s,i,p),a||(u=C(t,"click",r[7]),a=!0)},p(s,[p]){p&1&&be(t,"bottom-6",!s[0]),p&1&&be(t,"bottom-20",s[0]),s[3]?c?c.p(s,p):(c=Pe(s),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),s[5]?f?f.p(s,p):(f=Ee(s),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null)},i:X,o:X,d(s){s&&O(t),s&&O(e),c&&c.d(s),s&&O(n),f&&f.d(s),s&&O(i),a=!1,u()}}}function nt(r,t,e){let{showFooter:n=!1}=t,{onGenerate:i}=t,a="",u="",c=!1,f=[],s,p=null,g=!1;ye(()=>{w(),I()}),xe(()=>{s==null||s.clear()});const w=()=>{const S=JSON.parse(localStorage.getItem("codes"));S&&(f=S)},m=S=>{localStorage.setItem("codes",JSON.stringify(S))};function h(){try{const b=new ue(u,30).getToken(),D={issuer:a,secret:u,otp:b,viewed:!1,id:f.length+1};f=[...f,D],m(f),i(D),x()}catch(S){alert("Error generating OTP: "+S.message)}}const x=()=>{e(1,a=""),e(2,u=""),e(3,c=!1)},_=()=>{e(3,c=!c)};function v(){try{const b=new ue(u,30).getToken();e(4,p=b),e(5,g=!0),x()}catch(S){alert("Error generating OTP: "+S.message)}}function k(){e(5,g=!1),e(4,p=null)}function I(){console.log("Initializing QR code scanner..."),s=new Ge("reader",{fps:10,qrbox:{width:250,height:250}},!1)}function N(){s||I(),console.log("Starting QR code scanner..."),s.render(S=>{console.log("Scanned text:",S);const b=new URLSearchParams(S.split("?")[1]);b.get("issuer"),b.get("secret"),s.clear()},S=>{console.error("Scan error:",S),alert("Failed to scan QR code. Please try again.")})}function M(){a=this.value,e(1,a)}function E(){u=this.value,e(2,u)}return r.$$set=S=>{"showFooter"in S&&e(0,n=S.showFooter),"onGenerate"in S&&e(11,i=S.onGenerate)},[n,a,u,c,p,g,h,_,v,k,N,i,M,E]}class rt extends fe{constructor(t){super(),ge(this,t,nt,ot,pe,{showFooter:0,onGenerate:11})}}function Me(r){let t,e,n,i,a,u,c,f,s,p,g,w,m,h,x,_;return{c(){t=d("div"),e=d("div"),n=d("button"),n.textContent="\xD7",i=y(),a=d("h2"),a.textContent="Enter Password to Export",u=y(),c=d("p"),c.textContent="Please enter the password for encryption.",f=y(),s=d("input"),p=y(),g=d("input"),w=y(),m=d("div"),h=d("button"),h.textContent="Export",l(n,"class","absolute top-3 right-3 text-gray-500 hover:text-gray-700 transition-transform transform hover:scale-110"),l(a,"class","text-xl font-semibold mb-3 text-gray-800 text-center"),l(c,"class","text-gray-600 text-sm text-center mb-6"),l(s,"type","name"),l(s,"placeholder","File Name"),l(s,"class","w-full p-3 bg-gray-100 rounded-lg border border-gray-300 mb-4 focus:outline-none focus:ring-2 focus:ring-green-200 transition"),s.required=!0,l(g,"type","password"),l(g,"placeholder","Password"),l(g,"class","w-full p-3 bg-gray-100 rounded-lg border border-gray-300 mb-4 focus:outline-none focus:ring-2 focus:ring-green-200 transition"),g.required=!0,l(h,"class","bg-tertiary text-white font-medium py-2 rounded-lg w-full hover:bg-gradient-to-l transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-200"),l(m,"class","flex justify-between"),l(e,"class","bg-white w-80 p-6 rounded-lg shadow-2xl relative"),l(t,"class","fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50")},m(v,k){L(v,t,k),o(t,e),o(e,n),o(e,i),o(e,a),o(e,u),o(e,c),o(e,f),o(e,s),U(s,r[3]),o(e,p),o(e,g),U(g,r[4]),o(e,w),o(e,m),o(m,h),x||(_=[C(n,"click",r[7]),C(s,"input",r[9]),C(g,"input",r[10]),C(h,"click",r[6])],x=!0)},p(v,k){k&8&&U(s,v[3]),k&16&&g.value!==v[4]&&U(g,v[4])},d(v){v&&O(t),x=!1,te(_)}}}function st(r){let t,e,n,i,a,u,c,f,s,p,g=r[2]&&Me(r);return{c(){t=d("div"),e=d("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"></path><path d="M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"></path></svg> 

        <span>Export</span>`,n=y(),i=d("button"),i.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg> 

        <span>Delete</span>`,a=y(),u=d("button"),u.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm2.78-4.22a.75.75 0 0 1-1.06 0L8 9.06l-1.72 1.72a.75.75 0 1 1-1.06-1.06L6.94 8 5.22 6.28a.75.75 0 0 1 1.06-1.06L8 6.94l1.72-1.72a.75.75 0 1 1 1.06 1.06L9.06 8l1.72 1.72a.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg> 

        <span>Cancel</span>`,c=y(),g&&g.c(),f=ke(),l(e,"class","flex flex-col items-center"),l(i,"class","flex flex-col items-center text-red-600"),l(u,"class","flex flex-col items-center text-fade dark:text-primary"),l(t,"class","dark:bg-[#263240] dark:text-primary fixed bottom-0 left-0 right-0 bg-white shadow-md py-4 flex justify-around items-center rounded")},m(w,m){L(w,t,m),o(t,e),o(t,n),o(t,i),o(t,a),o(t,u),L(w,c,m),g&&g.m(w,m),L(w,f,m),s||(p=[C(e,"click",r[5]),C(i,"click",function(){_e(r[0])&&r[0].apply(this,arguments)}),C(u,"click",function(){_e(r[1])&&r[1].apply(this,arguments)})],s=!0)},p(w,[m]){r=w,r[2]?g?g.p(r,m):(g=Me(r),g.c(),g.m(f.parentNode,f)):g&&(g.d(1),g=null)},i:X,o:X,d(w){w&&O(t),w&&O(c),g&&g.d(w),w&&O(f),s=!1,te(p)}}}function at(r,t,e){let{onExport:n}=t,{onDelete:i}=t,{onCancel:a}=t,u=!1,c="",f="";function s(){e(2,u=!0)}function p(){n(f),e(2,u=!1),e(4,f="")}function g(){e(2,u=!1),e(4,f="")}function w(){c=this.value,e(3,c)}function m(){f=this.value,e(4,f)}return r.$$set=h=>{"onExport"in h&&e(8,n=h.onExport),"onDelete"in h&&e(0,i=h.onDelete),"onCancel"in h&&e(1,a=h.onCancel)},[i,a,u,c,f,s,p,g,n,w,m]}class it extends fe{constructor(t){super(),ge(this,t,at,st,pe,{onExport:8,onDelete:0,onCancel:1})}}function De(r){let t,e;return t=new it({props:{onDelete:r[14],onCancel:r[18],onExport:r[11]}}),{c(){ae(t.$$.fragment)},m(n,i){ce(t,n,i),e=!0},p:X,i(n){e||(Y(t.$$.fragment,n),e=!0)},o(n){ee(t.$$.fragment,n),e=!1},d(n){de(t,n)}}}function Le(r){let t,e,n,i,a,u,c,f,s,p,g,w,m,h,x;return{c(){t=d("div"),e=d("div"),n=d("button"),n.textContent="\xD7",i=y(),a=d("h2"),a.textContent="Export Your Codes",u=y(),c=d("p"),c.textContent="Secure your codes before exporting by adding a password.",f=y(),s=d("input"),p=y(),g=d("input"),w=y(),m=d("button"),m.textContent="Export Selected",l(n,"class","absolute top-3 right-3 text-gray-500 hover:text-gray-700 transition-transform transform hover:scale-110"),l(n,"aria-label","Close Export Popup"),l(a,"class","text-xl font-semibold mb-3 text-gray-800 dark:text-primary text-center"),l(c,"class","text-gray-600 text-sm text-center mb-6"),l(s,"type","text"),l(s,"placeholder","Name your file"),l(s,"autocomplete","off"),l(s,"class","w-full p-3 bg-gray-100 rounded-lg border border-gray-300 mb-4 focus:outline-none focus:ring-2 focus:ring-green-200 transition dark:bg-[#2A3B47]"),s.required=!0,l(g,"type","password"),l(g,"placeholder","Password"),l(g,"autocomplete","off"),l(g,"class","w-full p-3 bg-gray-100 rounded-lg border border-gray-300 mb-4 focus:outline-none focus:ring-2 focus:ring-green-200 transition dark:bg-[#2A3B47]"),g.required=!0,l(m,"class","bg-tertiary text-white font-medium py-2 rounded-lg w-full hover:bg-gradient-to-l transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-200"),l(e,"class","bg-white w-80 p-6 rounded-lg shadow-2xl relative transition-transform transform hover:scale-105 dark:bg-[#2A3B47] "),l(t,"class","fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50")},m(_,v){L(_,t,v),o(t,e),o(e,n),o(e,i),o(e,a),o(e,u),o(e,c),o(e,f),o(e,s),U(s,r[6]),o(e,p),o(e,g),U(g,r[4]),o(e,w),o(e,m),h||(x=[C(n,"click",r[16]),C(s,"input",r[20]),C(g,"input",r[21]),C(m,"click",r[22])],h=!0)},p(_,v){v[0]&64&&s.value!==_[6]&&U(s,_[6]),v[0]&16&&g.value!==_[4]&&U(g,_[4])},d(_){_&&O(t),h=!1,te(x)}}}function Oe(r){let t,e,n,i,a,u,c,f,s,p,g,w,m;return{c(){t=d("div"),e=d("div"),n=d("button"),n.textContent="\xD7",i=y(),a=d("h2"),a.textContent="Import Your File",u=y(),c=d("p"),c.textContent="Enter the password you set during export to access the file.",f=y(),s=d("input"),p=y(),g=d("input"),l(n,"class","absolute top-3 right-3 text-gray-500 dark:text-primary hover:text-gray-700 transition-transform transform hover:scale-110"),l(n,"aria-label","Close Import Popup"),l(a,"class","text-xl font-semibold mb-3 text-gray-800 dark:text-primary text-center"),l(c,"class","text-gray-600 text-sm text-center mb-6"),l(s,"type","password"),l(s,"placeholder","Password"),l(s,"autocomplete","off"),l(s,"class","w-full p-3 bg-gray-100 dark:bg-[#2A3B47] dark:text-primary rounded-lg border mb-4 focus:outline-none focus:ring-2 focus:ring-green-200 transition"),l(g,"type","file"),l(g,"class","bg-tertiary text-white font-medium py-2 rounded-lg w-full bg-gray-100 dark:bg-[#2A3B47] transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-200"),l(e,"class","bg-white w-80 p-6 rounded-lg shadow-2xl relative transition-transform transform hover:scale-105 dark:bg-[#2A3B47] "),l(t,"class","fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50")},m(h,x){L(h,t,x),o(t,e),o(e,n),o(e,i),o(e,a),o(e,u),o(e,c),o(e,f),o(e,s),U(s,r[5]),o(e,p),o(e,g),w||(m=[C(n,"click",r[17]),C(s,"input",r[23]),C(g,"change",r[24])],w=!0)},p(h,x){x[0]&32&&s.value!==h[5]&&U(s,h[5])},d(h){h&&O(t),w=!1,te(m)}}}function je(r){let t,e,n,i,a,u,c,f,s,p,g,w,m,h;return{c(){t=d("div"),e=d("div"),n=d("button"),n.textContent="\xD7",i=y(),a=d("h2"),a.textContent="Confirm Deletion",u=y(),c=d("p"),c.textContent="Are you sure you want to delete this code? This action cannot be undone.",f=y(),s=d("div"),p=d("button"),p.textContent="Yes, Delete",g=y(),w=d("button"),w.textContent="Cancel",l(n,"class","absolute top-3 right-3 text-gray-500 hover:text-gray-700 transition-transform transform hover:scale-110"),l(n,"aria-label","Close Delete Popup"),l(a,"class","text-xl font-semibold mb-3 text-gray-800 text-center"),l(c,"class","text-gray-600 text-sm text-center mb-6"),l(p,"class","bg-red-600 text-white font-medium py-2 rounded-lg w-full mr-2 hover:bg-red-500 transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-red-200"),l(w,"class","bg-gray-300 text-gray-800 font-medium py-2 rounded-lg w-full hover:bg-gray-200 transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-200"),l(s,"class","flex justify-between"),l(e,"class","bg-white w-80 p-6 rounded-lg shadow-2xl relative transition-transform transform hover:scale-105"),l(t,"class","dark:bg-[#2A3B47] fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50")},m(x,_){L(x,t,_),o(t,e),o(e,n),o(e,i),o(e,a),o(e,u),o(e,c),o(e,f),o(e,s),o(s,p),o(s,g),o(s,w),m||(h=[C(n,"click",r[25]),C(p,"click",r[15]),C(w,"click",r[26])],m=!0)},p:X,d(x){x&&O(t),m=!1,te(h)}}}function ct(r){let t,e,n,i,a,u,c,f,s,p,g,w,m;n=new Qe({props:{codes:r[0],onExport:r[11],onGoogleSync:r[12],onImport:r[13],onToggleExportPopup:r[16],onToggleImportPopup:r[17]}}),u=new rt({props:{onGenerate:r[9],showFooter:r[1]}}),f=new lt({props:{codes:r[0],onToggleSelection:r[10],onCopy:r[8]}}),f.$on("selectionChanged",r[19]);let h=r[1]&&De(r),x=r[2]&&Le(r),_=r[3]&&Oe(r),v=r[7]&&je(r);return{c(){t=d("main"),e=d("div"),ae(n.$$.fragment),i=y(),a=d("div"),ae(u.$$.fragment),c=y(),ae(f.$$.fragment),s=y(),h&&h.c(),p=y(),x&&x.c(),g=y(),_&&_.c(),w=y(),v&&v.c(),l(a,"class","flex-1 p-4 order-1 md:order-none"),l(e,"class","flex flex-col md:flex-row"),l(t,"class","min-h-screen dark:bg-[#192734] bg-[#f5f8fa]")},m(k,I){L(k,t,I),o(t,e),ce(n,e,null),o(e,i),o(e,a),ce(u,a,null),o(a,c),ce(f,a,null),o(a,s),h&&h.m(a,null),o(t,p),x&&x.m(t,null),o(t,g),_&&_.m(t,null),o(t,w),v&&v.m(t,null),m=!0},p(k,I){const N={};I[0]&1&&(N.codes=k[0]),n.$set(N);const M={};I[0]&2&&(M.showFooter=k[1]),u.$set(M);const E={};I[0]&1&&(E.codes=k[0]),f.$set(E),k[1]?h?(h.p(k,I),I[0]&2&&Y(h,1)):(h=De(k),h.c(),Y(h,1),h.m(a,null)):h&&(Ne(),ee(h,1,1,()=>{h=null}),He()),k[2]?x?x.p(k,I):(x=Le(k),x.c(),x.m(t,g)):x&&(x.d(1),x=null),k[3]?_?_.p(k,I):(_=Oe(k),_.c(),_.m(t,w)):_&&(_.d(1),_=null),k[7]?v?v.p(k,I):(v=je(k),v.c(),v.m(t,null)):v&&(v.d(1),v=null)},i(k){m||(Y(n.$$.fragment,k),Y(u.$$.fragment,k),Y(f.$$.fragment,k),Y(h),m=!0)},o(k){ee(n.$$.fragment,k),ee(u.$$.fragment,k),ee(f.$$.fragment,k),ee(h),m=!1},d(k){k&&O(t),de(n),de(u),de(f),h&&h.d(),x&&x.d(),_&&_.d(),v&&v.d()}}}function dt(r,t,e){let n=JSON.parse(localStorage.getItem("codes"))||[],i=!1,a=!1,u=!1,c="",f="",s="",p=!1,g=null,w=[];const m=async A=>{try{await navigator.clipboard.writeText(A),alert("OTP copied to clipboard")}catch(T){alert("Failed to copy OTP: "+T.message)}},h=A=>{const T=new ue(A.secret);e(0,n=[...n,{id:Date.now(),...A,selected:!1,code:T.getToken(),remainingTime:Math.floor(T.getRemainingSeconds())}]),x(n.length-1)},x=A=>{const T=setInterval(()=>{e(0,n=n.map((j,z)=>{if(z===A){const V=new ue(j.secret);return{...j,code:V.getToken(),remainingTime:Math.floor(V.getRemainingSeconds())}}return j}))},1e3);w.push(T)},_=A=>{e(0,n=n.map(T=>T.id===A?{...T,selected:!T.selected}:T))},v=A=>{const T=n.filter(z=>z.selected);if(T.length===0){alert("No codes selected for backup!");return}const j=T.map(z=>`otpauth://totp/${encodeURIComponent(z.issuer)}?secret=${encodeURIComponent(z.secret)}&issuer=${encodeURIComponent(z.issuer)}`).join(`
`);try{const z=we.AES.encrypt(j,A).toString(),V=new Blob([z],{type:"text/plain"}),W=URL.createObjectURL(V),$=document.createElement("a");$.href=W,$.download=`${s||"backup"}.txt`,document.body.appendChild($),$.click(),URL.revokeObjectURL(W),document.body.removeChild($),alert("Backup successful!")}catch(z){console.error("Backup error:",z),alert("An error occurred during the backup process.")}},k=()=>{const A=n.filter(T=>T.selected);A.length?(console.log("Syncing with Google:",A),alert("Google Sync initiated for selected codes.")):alert("No codes selected for syncing.")},I=A=>{const T=document.createElement("input");T.type="file",T.accept="text/plain",T.onchange=()=>{const j=T.files[0],z=new FileReader;z.onload=()=>{try{const V=z.result,W=we.AES.decrypt(V,A).toString(we.enc.Utf8);if(!W)throw new Error("Decryption failed. Check your password or file.");const ne=W.split(`
`).map(q=>{const se=new URL(q),me=se.searchParams.get("issuer"),F=se.searchParams.get("secret");return me&&F?{issuer:me,secret:F}:null}).filter(q=>q!==null);e(0,n=[...n,...ne]),localStorage.setItem("codes",JSON.stringify(n)),alert("Restore successful!")}catch(V){console.error("Restore error:",V),alert("Invalid password or corrupted file!")}},z.readAsText(j)},T.click()},N=()=>{confirm("Are you sure you want to delete all selected codes?")&&(e(0,n=n.filter(A=>!A.selected)),alert("Selected codes deleted"))},M=()=>{g&&(e(0,n=n.filter(A=>A.id!==g)),alert("Code deleted")),e(7,p=!1),g=null},E=()=>{e(2,a=!a)},S=()=>{e(3,u=!u)},b=()=>{e(0,n=n.map(A=>({...A,selected:!1})))};ye(()=>{const A=JSON.parse(localStorage.getItem("codes"));A&&e(0,n=A.map(T=>{const j=new ue(T.secret);return{...T,selected:!1,code:j.getToken(),remainingTime:Math.floor(j.getRemainingSeconds())}}))}),xe(()=>{w.forEach(clearInterval)});const D=A=>{e(1,i=A.detail.selectedCodes.length>0)};function Z(){s=this.value,e(6,s)}function J(){c=this.value,e(4,c)}const K=()=>v(c);function H(){f=this.value,e(5,f)}const R=()=>I(f),le=()=>e(7,p=!1),Q=()=>e(7,p=!1);return r.$$.update=()=>{r.$$.dirty[0]&1&&(localStorage.setItem("codes",JSON.stringify(n)),e(1,i=n.some(A=>A.selected)))},[n,i,a,u,c,f,s,p,m,h,_,v,k,I,N,M,E,S,b,D,Z,J,K,H,R,le,Q]}class ut extends fe{constructor(t){super(),ge(this,t,dt,ct,pe,{},null,[-1,-1])}}function ft(){gapi.load("auth2",()=>{gapi.auth2.init({client_id:"YOUR_CLIENT_ID.apps.googleusercontent.com"}).then(()=>{console.log("Google API initialized")}).catch(r=>{console.error("Google API Initialization Error:",r)})})}window.onload=()=>{typeof gapi<"u"?ft():console.error("Google API script is not loaded!")};new ut({target:document.getElementById("app")});
